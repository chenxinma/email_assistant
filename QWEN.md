# 邮件助手桌面应用

## 项目概述

邮件助手是一款智能桌面应用，旨在帮助用户高效管理邮件、提取关键信息并自动化邮件处理流程。应用整合了邮件摘要生成、知识库构建和智能邮件发送三大核心功能，大幅提升工作效率。


## 核心功能

### 1. 智能邮件摘要生成
- 自动读取指定邮箱目录的当日邮件
- 智能分析邮件内容生成每日工作摘要
- 自动识别并整理待办任务清单
- 支持摘要导出和分享功能

### 2. 邮件知识库系统
- 将指定目录邮件进行向量化存储
- 支持自然语言查询邮件内容
- 快速定位历史邮件和相关信息
- 基于邮件内容的知识问答系统

### 3. 智能邮件发送
- 预设多种邮件模板（工作汇报、会议邀请等）
- 关键词自动替换功能
- 定时发送邮件功能
- 收件人智能建议

## 技术架构

### 前端
- **Electron + React**：构建跨平台桌面应用
- **Ant Design**：企业级 UI 组件库
- **Tailwind CSS**：现代化 CSS 框架
- **Axios**：HTTP 客户端

### 后端
- **FastAPI**：高性能 Python Web 框架
- **PyDantic**：数据模型验证与设置管理
- **SQLite**： 本地数据存储 
- **sqlite-vec**：支持向量搜索

### AI处理
- Sentence Transformers 文本嵌入模型
- 自定义摘要生成算法
- 关键词提取与任务识别模块
- 自然语言处理（NLP）问答引擎

## 配置说明

首次启动应用时，需要配置邮箱账户：
1. 进入"设置" > "邮箱账户"
2. 输入邮箱地址和授权码（非密码）
3. 配置IMAP/SMTP服务器信息
4. 选择需要监控的邮件目录

## 使用指南

### 每日摘要功能
1. 点击"今日摘要"标签
2. 应用自动获取当日邮件
3. 查看自动生成的摘要和待办事项
4. 可手动编辑或添加任务

### 知识库功能
1. 选择"知识库"标签
2. 选择要索引的邮件目录
3. 应用将自动向量化处理邮件
4. 在搜索框输入自然语言问题查询邮件

### 邮件发送功能
1. 点击"写邮件"按钮
2. 选择邮件模板或新建模板
3. 编辑内容并使用{keyword}语法标记替换字段
4. 添加收件人后发送或定时发送

## 自定义配置

在`config.json`中可修改以下配置：
```json
{
  "mail": {
    "refreshInterval": 15, // 邮件检查间隔(分钟)
    "indexedFolders": ["INBOX", "Projects"] // 索引目录
  },
  "ai": {
    "model": "all-MiniLM-L6-v2", // 嵌入模型
    "summaryLength": 300 // 摘要最大长度
  }
}
```

## 常见问题

**Q: 如何保护我的邮箱安全？**
A: 所有邮箱凭证都使用AES-256加密存储在本地，不会上传到任何服务器

**Q: 向量索引会占用多少空间？**
A: 平均每千封邮件约占用50MB存储空间

**Q: 是否支持多个邮箱账户？**
A: 是，可在设置中添加多个邮箱账户

**Q: 摘要生成支持哪些语言？**
A: 目前支持中文和英文，更多语言正在开发中

### 核心 API 端点

| 端点 | 方法 | 功能 |
|------|------|------|
| `/api/summary/daily` | GET | 获取当日邮件摘要 |
| `/api/emails/search` | POST | 语义搜索邮件 |
| `/api/emails/send` | POST | 发送邮件 |
| `/api/knowledge/sync` | POST | 同步邮件到知识库 |
| `/api/templates` | GET | 获取邮件模板列表 |

## 系统架构

```
+-------------------+     +-------------------+     +-----------------+
|   Electron前端    |<--->|   FastAPI后端     |<--->|  邮件服务器     |
|  (React + AntD)   | HTTP |  (Python)        | IMAP | (IMAP/SMTP)    |
+-------------------+     +---------^---------+     +-----------------+
                                    |
                            +-------v-------+
                            |   AI处理层    |
                            |  (PyTorch)   |
                            +-------^-------+
                                    |
                            +-------v-----------------+
                            |  关系数据库+向量         |
                            |  (SQLite+sqlite-vec)    |
                            +-------------------------+
```
